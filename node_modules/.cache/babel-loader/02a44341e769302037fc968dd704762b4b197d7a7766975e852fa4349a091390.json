{"ast":null,"code":"import React,{useState,useContext}from\"react\";import axios from\"axios\";import{useNavigate,Link}from\"react-router-dom\";import Footer from\"./Footer\";import'./LoginStyle.css';import Navbar from\"./Navbar\";import{AuthContext}from\"./AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const history=useNavigate();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const{setIsLoggedIn}=useContext(AuthContext);async function submit(e){e.preventDefault();try{await axios.post(\"http://localhost:8000/\",{email,password}).then(res=>{if(res.data===\"exist\"){setIsLoggedIn(true);history(\"/\",{state:{id:email}});}else if(res.data===\"notexist\"){alert(\"User has not signed up\");}}).catch(e=>{alert(\"Wrong details\");console.log(e);});}catch(e){console.log(e);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:e=>{setEmail(e.target.value);},placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:e=>{setPassword(e.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:submit})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"OR\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login Page\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","axios","useNavigate","Link","Footer","Navbar","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","history","email","setEmail","password","setPassword","setIsLoggedIn","submit","e","preventDefault","post","then","res","data","state","id","alert","catch","console","log","children","className","action","type","onChange","target","value","placeholder","onClick","to"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/project/src/components/Login.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport Footer from \"./Footer\";\r\nimport './LoginStyle.css';\r\nimport Navbar from \"./Navbar\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nfunction Login() {\r\n  const history = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { setIsLoggedIn } = useContext(AuthContext);\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await axios.post(\"http://localhost:8000/\", { email, password })\r\n        .then(res => {\r\n          if (res.data === \"exist\") {\r\n            setIsLoggedIn(true);\r\n            history(\"/\", { state: { id: email } });\r\n          } else if (res.data === \"notexist\") {\r\n            alert(\"User has not signed up\");\r\n          }\r\n        })\r\n        .catch(e => {\r\n          alert(\"Wrong details\");\r\n          console.log(e);\r\n        });\r\n\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"login-container\">\r\n        <div className=\"login\">\r\n          <h1>Login</h1>\r\n          <form action=\"POST\">\r\n            <input type=\"email\" onChange={(e) => { setEmail(e.target.value) }} placeholder=\"Email\" />\r\n            <input type=\"password\" onChange={(e) => { setPassword(e.target.value) }} placeholder=\"Password\" />\r\n            <input type=\"submit\" onClick={submit} />\r\n          </form>\r\n          <br />\r\n          <p>OR</p>\r\n          <br />\r\n          <Link to=\"/login\">Login Page</Link>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}